<!--
  Generated template for the AddproductPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Add Product/Auction</ion-title>
  </ion-navbar>

</ion-header>


<ion-content>
  

  <form padding  novalidate [formGroup]="pForm">
    <ion-list no-lines class="profile-info">

        <ion-item>
            <ion-label stacked color="primary">Upload Type</ion-label>
            <ion-select name="type" (ionChange)="uploadtype($event)" formControlName="type">
              <ion-option value="1">Product</ion-option>
              <ion-option value="2">Auction</ion-option>
            </ion-select>
        </ion-item>
        <p *ngIf="!pForm.controls['type'].valid && pForm.controls['type'].touched" ion-text color="danger" padding-left>
            Type is required </p>
        <ion-item>
            <ion-label stacked color="primary">Brand</ion-label>
            <ion-select name="brand" (ionChange)="subcategoryList($event)" formControlName="brand">
              <ion-option value="{{b.id}}" *ngFor="let b of brandlists">{{b.name}}</ion-option>
            </ion-select>
        </ion-item>
        <p *ngIf="!pForm.controls['brand'].valid && pForm.controls['brand'].touched" ion-text color="danger" padding-left>
            Brand is required </p>
        <ion-item>
            <ion-label stacked color="primary">Category</ion-label>
            <ion-select name="cat_id" formControlName="cat_id">
              <ion-option value="{{sc.id}}" *ngFor="let sc of subcategorylists">{{sc.name}}</ion-option>
            </ion-select>
        </ion-item>
        <p *ngIf="!pForm.controls['cat_id'].valid && pForm.controls['cat_id'].touched" ion-text color="danger" padding-left>
            Brand is required </p>
        <ion-item>
            <ion-label stacked color="primary">Breslet Type</ion-label>
            <ion-select name="breslet_type" formControlName="breslet_type" >
              <ion-option *ngFor="let bl of braceletlists" value="{{bl.id}}">{{bl.type}}</ion-option>
              
            </ion-select>
        </ion-item>
        <p *ngIf="!pForm.controls['breslet_type'].valid && pForm.controls['breslet_type'].touched" ion-text color="danger" padding-left>
            Breslet type is required </p>


        <ion-item>
            <ion-label stacked color="primary">Model Year</ion-label>
            <ion-select name="model_year" formControlName="model_year">
              <ion-option value="{{y}}" *ngFor="let y of yearlists">{{y}}</ion-option>
            </ion-select>
        </ion-item>
        <p *ngIf="!pForm.controls['model_year'].valid && pForm.controls['model_year'].touched" ion-text color="danger" padding-left>
            Model Year is required </p>
        <ion-item>
            <ion-label stacked color="primary">Currency</ion-label>
            <ion-select name="currency" formControlName="currency">
              <ion-option value="{{c.code}}" *ngFor="let c of currencylists">{{c.name}}</ion-option>
            </ion-select>
        </ion-item>
        <p *ngIf="!pForm.controls['currency'].valid && pForm.controls['currency'].touched" ion-text color="danger" padding-left>
            Currency is required </p>
          
        <ion-item *ngIf="uploadtypeid==2">
            <ion-label stacked color="primary">Auction Date</ion-label>
            <ion-datetime round displayFormat="DD MMM YYYY" formControlName="preferred_date" pickerFormat="YYYY-MM-DD" (ionChange)="getauctiontime($event)" name="preferred_date"></ion-datetime>
        </ion-item>
        
        <!-- <ion-item *ngIf="uploadtypeid==2">
            <ion-label stacked color="primary">Auction Date</ion-label>
            <ion-input round type="date"  name="preferred_date" formControlName="preferred_date" (click)="getauctiontime($event)" date-enabled-dates="2018-06-06"></ion-input>
        </ion-item> -->
        

        <ion-list radio-group formControlName="time_slot_id" name="time_slot_id" *ngIf="uploadtypeid==2">
        <ion-list-header>
            Auction Time
        </ion-list-header>
        <ion-item *ngFor="let t of timelists">
            <ion-label>{{t.start_time}} To {{t.end_time}}</ion-label>
            <ion-radio value="{{t.id}}"></ion-radio>
        </ion-item>
        </ion-list>

        

        <ion-item>
            <ion-label stacked color="primary">Description</ion-label>
            <ion-textarea round rows="5" maxLength="500" placeholder="Type description" formControlName="description"  required></ion-textarea>
        </ion-item>
        <p *ngIf="!pForm.controls['description'].valid && pForm.controls['description'].touched" ion-text color="danger" padding-left>
            Description is required </p>
        
        <ion-item>
            <ion-label stacked color="primary">Price</ion-label>
            <ion-input round type="number" placeholder="Type price" name="phone" formControlName="price" required></ion-input>
        </ion-item>
        <p *ngIf="!pForm.controls['price'].valid && pForm.controls['price'].touched" ion-text color="danger" padding-left>
            Price is required </p>

        


      <div padding class="no-p-t p-b-5">
          <!-- <button ion-button round class="grey-btn" (click)="onSubmit(aForm.value)" type="submit" block>Save</button> -->
          <button ion-button round class="grey-btn" type="submit" (click)="onSubmit(pForm.value)" block>Next</button>
      </div>
  
  </ion-list>


  </form>
</ion-content>
